(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){e.exports=n.p+"static/media/json-icon.5c7c06fa.png"},101:function(e,t,n){e.exports=n.p+"static/media/link-icon.5fde3dc6.png"},102:function(e,t,n){e.exports=n.p+"static/media/mongodb-icon.f812c010.png"},104:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(25),o=n.n(l),i=n(6),c=n(7),u=n(10),s=n(8),m=n(9),d=n(108),p=n(107),f=n(27),b=Object(f.a)(),h=(n(52),n(1)),E=n(2),v=n(106),y=n(5),g=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.Navbar,{color:"light"},r.a.createElement(y.Navbar.Brand,null,r.a.createElement(v.a,{to:"/"},r.a.createElement(y.Navbar.Item,null,r.a.createElement("b",{style:{fontSize:"1.5em"}},"TT1 - Senior Project")))),r.a.createElement(y.Navbar.Menu,null,r.a.createElement(y.Navbar.Container,{position:"end"},r.a.createElement(y.Navbar.Item,null,r.a.createElement(v.a,{to:"/",style:{color:"#4a4a4a"}},"Go Back Home")),r.a.createElement(y.Navbar.Item,{dropdown:!0,hoverable:!0},r.a.createElement(y.Navbar.Link,null,"Menu"),r.a.createElement(y.Navbar.Dropdown,{right:!0},r.a.createElement(v.a,{to:"/documentation"},r.a.createElement(y.Navbar.Item,null,"Documentation")),r.a.createElement(v.a,{to:"/credit"},r.a.createElement(y.Navbar.Item,null,"Credits"))))))))}}]),t}(a.Component),j=n(12),O=n(11),x=n.n(O);function w(){var e=Object(h.a)(["\n    color: black;\n    font-size: 1em;\n"]);return w=function(){return e},e}function k(){var e=Object(h.a)(["\n    color: black;\n    font-size: 2em;\n"]);return k=function(){return e},e}function N(){var e=Object(h.a)(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n"]);return N=function(){return e},e}function C(){var e=Object(h.a)(["\n    background-color: ",";\n    text-align: center;\n    width: 150px;\n    height: 150px;\n    border-radius: 75px;\n    margin: 0px 5px;\n    cursor: ",";\n"]);return C=function(){return e},e}var S=E.a.div(C(),function(e){return e.bubbleColor},function(e){return e.clickable?"pointer":""}),I=E.a.div(N()),D=E.a.div(k()),B=E.a.div(w()),T=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.upText,n=e.midText,a=e.lowText,l=e.bubbleColor,o=e.clickable,i=e.linkTo;t=t||"",n=n||"",a=a||"",l=l||"azure";var c=r.a.createElement(S,{bubbleColor:l,clickable:o},r.a.createElement(I,null,r.a.createElement(B,null,t),r.a.createElement(D,null,n),r.a.createElement(B,null,a)));return i?function(e,t){return r.a.createElement(v.a,{to:t},e)}(c,i):c}}]),t}(a.Component),P=n(26),_=n.n(P),z=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.repositoryName,n=e.createdDate;return r.a.createElement(_.a,null,r.a.createElement("h3",null,t),r.a.createElement("dl",null,r.a.createElement("dd",null,"Created Date: ",n)))}}]),t}(a.Component),L=n(15),F=n(13);function A(){var e=Object(h.a)(["\n    margin: 3px 3px 3px 3px;\n    cursor: pointer;\n"]);return A=function(){return e},e}var R=Object(E.a)(L.a)(A()),M=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(R,{icon:F.k})}}]),t}(a.Component),V=n(21),U=n(4);function H(){var e=Object(h.a)(["\n    display: block;\n    position: absolute;\n    z-index: 1; /* Sit on top */\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.4);\n"]);return H=function(){return e},e}function W(){var e=Object(h.a)(["\n    display: block;\n    height: 400px;\n    background-color: azure;\n    width: 50vw;\n    margin: 10% auto;\n"]);return W=function(){return e},e}var J=Object(E.a)(y.Box)(W()),G=E.a.div(H()),K=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).confirmDelete=function(){var e=n.props.repositoryName,t=n.state.formValue,a=n.state;e===t?(a.formIsDanger=!1,x.a.post(window.API_ENDPOINT+"/repository/delete/",{name:e}).then(function(e){window.location.reload()})):(a.formIsDanger=!0,a.errorMessage="Invalid repository name, try again."),n.setState(function(e){return a})},n.state={formValue:""},n.handleChange=n.handleChange.bind(Object(V.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=e.target.value;this.setState(function(e){return{formValue:t,formIsDanger:!1}})}},{key:"render",value:function(){var e=this.props,t=e.repositoryName,n=e.displayConfirmBox,a=e.toggler;return r.a.createElement("div",{style:{display:n}},r.a.createElement(G,null,r.a.createElement(J,null,r.a.createElement(U.Field,null,r.a.createElement(U.Label,null,"Are you sure you want to delete [ ",t||" "," ] ?"),r.a.createElement(U.Control,null,r.a.createElement(U.Input,{placeholder:"Type in your repository name: "+t,onChange:this.handleChange,value:this.state.formValue,color:this.state.formIsDanger?"danger":"link",className:"selemnium-delete-input"}))),r.a.createElement("br",null),r.a.createElement(U.Field,{kind:"group"},r.a.createElement(U.Control,null,r.a.createElement(y.Button,{type:"primary",color:"link",outlined:!0,onClick:this.confirmDelete,className:"selemnium-delete-confirm"},"Submit")),r.a.createElement(U.Control,null,r.a.createElement(y.Button,{type:"warning",color:"danger",outlined:!0,onClick:a},"Cancel"))),r.a.createElement("p",null,this.state.errorMessage||""))))}}]),t}(a.Component),q=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleOnClick=function(){n.setState(function(e){var t=e;return t.displayConfirmBox="none"===e.displayConfirmBox?"block":"none",t})},n.state={displayConfirmBox:"none"},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.repositoryName,t=this.state.displayConfirmBox;return r.a.createElement("div",null,r.a.createElement("div",{onClick:this.handleOnClick,className:"selemnium-repo-delete"},r.a.createElement(M,null)),r.a.createElement(K,{repositoryName:e,displayConfirmBox:t,toggler:this.handleOnClick}))}}]),t}(a.Component);function X(){var e=Object(h.a)(["\n    margin: 10px 10px 10px 10px;\n"]);return X=function(){return e},e}function $(){var e=Object(h.a)(["\n    display: flex;\n    flex-direction: row;\n"]);return $=function(){return e},e}var Q=Object(E.a)(y.Media.Item)($()),Y=Object(E.a)(y.Box)(X()),Z=function(e){function t(e){var n;Object(i.a)(this,t);var a=(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).props,r=a.scrapePercent,l=a.scrapeTotal,o=a.repositoryName,c=a.scrapeDone;return r<=99?(n.state={myEventSource:new EventSource(window.API_ENDPOINT+"/repository/stream/"+o),scrapePercent:r,scrapeTotal:l,scrapeDone:c},n.state.myEventSource.onmessage=function(e){var t=JSON.parse(e.data),a=String(t.bubble.scraper.scraped_file_count/t.bubble.scraper.total_file_count*100).slice(0,4),r=t.bubble.scraper.scraped_file_count;n.setState({scrapePercent:a,scrapeTotal:l,scrapeDone:r})}):n.state={scrapePercent:r,scrapeTotal:l,scrapeDone:c},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.repositoryName,n=e.createdDate,a=this.state,l=a.scrapePercent,o=a.scrapeDone,i=a.scrapeTotal;return r.a.createElement("div",null,r.a.createElement(Y,null,r.a.createElement(y.Media,null,r.a.createElement(y.Media.Item,null,r.a.createElement(z,{repositoryName:t,createdDate:n||"Not registered"})),r.a.createElement(Q,{renderAs:"figure",position:"right"},r.a.createElement(T,{upText:"Scrape",midText:"Ready"===this.props.scraperStatus?"Ready":l+"%",lowText:o+"/"+i,bubbleColor:"Ready"===this.props.scraperStatus?"#f9ccac":"#87bdd8",linkTo:"Ready"===this.props.scraperStatus&&"/scrape/"+t,repositoryName:t}),r.a.createElement(T,{upText:"Parse",midText:this.props.parseMid,bubbleColor:"Ready"===this.props.parserStatus?"#b7d7e8":"#e0e2e4",linkTo:"Ready"===this.props.parserStatus&&"/parse/"+t,repositoryName:t}),r.a.createElement(T,{upText:"Export",midText:this.props.exportMid,bubbleColor:"Ready"===this.props.exporterStatus?"#cfe0e8":"#e0e2e4",linkTo:"Ready"===this.props.exporterStatus&&"/export/"+t})),r.a.createElement(y.Media.Item,{renderAs:"figure",position:"right"},r.a.createElement(q,{repositoryName:t})))))}}]),t}(a.Component),ee=function(e){return{repositoryName:e.name,scraperStatus:e.bubble.scraper.state,parserStatus:e.bubble.parser.state,exporterStatus:e.bubble.exporter.state,scrapePercent:String(100*e.bubble.scraper.scraped_file_count/e.bubble.scraper.total_file_count).slice(0,4),scrapeTotal:e.bubble.scraper.total_file_count,scrapeDone:e.bubble.scraper.scraped_file_count,parseMid:e.bubble.parser.state,parseLower:e.bubble.parser.state,exportMid:e.bubble.exporter.state,exportLower:e.bubble.exporter.state,createdDate:e.createdDate}},te=function(e){x.a.get(window.API_ENDPOINT+"/getstatus").then(function(t){e(t.data.map(function(e){return ee(e)}))}).catch(function(t){x.a.get("http://localhost:3001/getstatus").then(function(t){console.log("using mock data"),e(t.data.map(function(e){return ee(e)}))})})};function ne(e){var t=Object(a.useState)(null),n=Object(j.a)(t,2),l=n[0],o=n[1];return l?(console.log("state",l),l.map(function(e){return r.a.createElement(Z,e)})):(te(o),r.a.createElement("p",null,"Loading"))}function ae(){var e=Object(h.a)(["\n    color: black;\n    font-size: 1em;\n"]);return ae=function(){return e},e}function re(){var e=Object(h.a)(["\n    color: black;\n    font-size: 4em;\n"]);return re=function(){return e},e}function le(){var e=Object(h.a)(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    cursor: pointer;\n"]);return le=function(){return e},e}function oe(){var e=Object(h.a)(["\n    background-color: #daebe8;\n    text-align: center;\n    width: 150px;\n    height: 150px;\n    border-radius: 75px;\n    margin: 0px 5px;\n"]);return oe=function(){return e},e}var ie=E.a.div(oe()),ce=E.a.div(le()),ue=E.a.div(re()),se=E.a.div(ae()),me=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ie,{className:"selenium-create-bubble"},r.a.createElement(ce,{onClick:this.props.onClick},r.a.createElement(ue,null,"+"),r.a.createElement(se,null,"Add Repo"))))}}]),t}(a.Component);function de(){var e=Object(h.a)(["\n    display: block;\n    position: absolute;\n    z-index: 1; /* Sit on top */\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.4);\n"]);return de=function(){return e},e}function pe(){var e=Object(h.a)(["\n    display: block;\n    height: 400px;\n    background-color: azure;\n    width: 50vw;\n    margin: 10% auto;\n"]);return pe=function(){return e},e}var fe=Object(E.a)(y.Box)(pe()),be=E.a.div(de()),he=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).confirmCreate=function(){x.a.post(window.API_ENDPOINT+"/repository/",{name:n.state.formValue}).then(function(e){switch(e.status){case 203:window.location.reload()}}).catch(function(e){n.setState(function(t){var n=t;return n.errorMessage=e.response.data,n.formIsDanger=!0,n})})},n.state={formValue:""},n.handleChange=n.handleChange.bind(Object(V.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=e.target.value.trim();this.setState(function(e){return{formValue:t,formIsDanger:!1}})}},{key:"render",value:function(){var e=this.props,t=e.repositoryName,n=e.displayConfirmBox,a=e.toggler;return r.a.createElement("div",{style:{display:n}},r.a.createElement(be,null,r.a.createElement(fe,null,r.a.createElement(U.Field,null,r.a.createElement(U.Label,null,"Create New Repository"),r.a.createElement(U.Control,null,r.a.createElement(U.Input,{placeholder:"Type in your repository name: "+t,onChange:this.handleChange,value:this.state.formValue,className:"selenium-reponame-input",color:this.state.formIsDanger?"danger":"link"}))),r.a.createElement("br",null),r.a.createElement(U.Field,{kind:"group"},r.a.createElement(U.Control,null,r.a.createElement(y.Button,{type:"primary",color:"link",outlined:!0,onClick:this.confirmCreate,className:"Submit selenium-submit-button"},"Submit")),r.a.createElement(U.Control,null,r.a.createElement(y.Button,{type:"warning",color:"danger",outlined:!0,onClick:a},"Cancel"))),r.a.createElement("p",null,this.state.errorMessage||""))))}}]),t}(a.Component),Ee=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleOnClick=function(){n.setState(function(e){var t=e;return t.displayConfirmBox="none"===e.displayConfirmBox?"block":"none",t})},n.state={displayConfirmBox:"none"},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.displayConfirmBox;return r.a.createElement("div",null,r.a.createElement("div",{onClick:this.handleOnClick},r.a.createElement(me,{className:"CreateRepoButton"})),r.a.createElement(he,{displayConfirmBox:e,toggler:this.handleOnClick}))}}]),t}(a.Component);function ve(){var e=Object(h.a)(["\n    display: flex;\n    justify-content: space-around;\n"]);return ve=function(){return e},e}var ye=E.a.div(ve()),ge=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("section",{className:"section",style:{padding:"0"}},r.a.createElement(ne,null),r.a.createElement(ye,null,r.a.createElement(Ee,null))))}}]),t}(a.Component);function je(){var e=Object(h.a)(["\n    height: 80vh;\n    margin: 100px 100px 0px 100px;\n    display: flex;\n    flex-direction: column;\n"]);return je=function(){return e},e}var Oe=Object(E.a)(y.Box)(je());function xe(){var e=Object(h.a)(["\n"]);return xe=function(){return e},e}function we(){var e=Object(h.a)(["\n    --bubble-size: 40vh;\n\n    background-color: #dff0f8;\n    border-radius: calc(var(--bubble-size) / 2);\n    border-color: #4a4a4a;\n    border-style: solid;\n    width: var(--bubble-size);\n    height: var(--bubble-size);\n    line-height: var(--bubble-size);\n    font-size: 150px;\n    text-align: center;\n"]);return we=function(){return e},e}var ke=E.a.div(we()),Ne=Object(E.a)(L.a)(xe()),Ce=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.icon;return r.a.createElement(ke,null,r.a.createElement(Ne,{icon:e}))}}]),t}(a.Component);Ce.defaultProps={icon:F.a};var Se=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(Ce,{icon:F.f})}}]),t}(a.Component),Ie=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(Ce,{icon:F.e})}}]),t}(a.Component);function De(){var e=Object(h.a)(["\n    width: 100px;\n    height: 100px;\n    border-radius: 50px;\n    text-align: center;\n    border-color: #4a4a4a;\n    border-style: solid;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n"]);return De=function(){return e},e}var Be=E.a.div(De()),Te=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.upText,n=e.lowText;return r.a.createElement(Be,null,r.a.createElement("p",null,t),r.a.createElement("b",null,n))}}]),t}(a.Component);function Pe(){var e=Object(h.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    text-align: center;\n    align-items: center;\n"]);return Pe=function(){return e},e}function _e(){var e=Object(h.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n"]);return _e=function(){return e},e}Te.defaultProps={upText:"undefined",lowText:"undefined"};var ze=E.a.div(_e()),Le=E.a.div(Pe()),Fe=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.repositoryName;return r.a.createElement(Oe,null,r.a.createElement(ze,null,r.a.createElement(Te,{upText:"1",lowText:"Scrape"})),r.a.createElement(ze,null,r.a.createElement(Le,null,r.a.createElement(v.a,{to:"/scrape-pk/"+e},r.a.createElement(Se,null),r.a.createElement(y.Content,null,r.a.createElement("br",null),r.a.createElement("h2",null,"Scrape Using Primary Key"),r.a.createElement("p",null,"Suitable for websites that use ascending number in url")))),r.a.createElement(Le,null,r.a.createElement(v.a,{to:"/scrape-file/"+e},r.a.createElement(Ie,null),r.a.createElement(y.Content,null,r.a.createElement("br",null),r.a.createElement("h2",null,"Scrape Using URLs from text file"),r.a.createElement("p",null,"Suitable for specific requirement"))))))}}]),t}(a.Component),Ae=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){try{var e=this.props.match.params.repositoryName}catch(t){e="mock"}return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("section",{className:"section",style:{padding:"0"}},"Working on: "," ",r.a.createElement("b",null,e),r.a.createElement(Fe,{repositoryName:e})))}}]),t}(a.Component),Re=n(44),Me=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.placeholder,a=e.onChange,l=e.name,o=e.value,i=e.color;return r.a.createElement(U.Field,null,r.a.createElement(U.Label,null,t),r.a.createElement(U.Control,null,r.a.createElement(U.Input,{placeholder:n,value:o,onChange:a,name:l,color:i})))}}]),t}(a.Component);function Ve(){var e=Object(h.a)(["\n    display: flex;\n    align-content: center;\n    flex-direction: column;\n"]);return Ve=function(){return e},e}Me.defaultProps={label:"undefined",placeholder:"undefined"};var Ue=E.a.div(Ve()),He=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).formHandler=function(e){n.setState(Object(Re.a)({},e.target.name,e.target.value))},n.formSubmitHandler=function(e){""===n.state.baseurl?n.setState({errorMessage:"Please enter URL.",baseurlIsDanger:!0}):""===n.state.start||""===n.state.end?n.setState({errorMessage:"Please enter valid range of Start and End",rangeIsDanger:!0}):x.a.post(window.API_ENDPOINT+"/repository/scraper/seturl/",{baseurl:n.state.baseurl,start:n.state.start,end:n.state.end,reponame:n.state.reponame}).then(function(e){200===e.status&&window.location.replace("/")}).catch(function(e){n.setState({errorMessage:e.response.data})}),e.preventDefault()},n.state={baseurl:"",start:"",end:"",reponame:e.repositoryName,errorMessage:"",baseurlIsDanger:!1,rangeIsDanger:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.baseurl,n=e.start,a=e.end;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.formSubmitHandler},r.a.createElement(Ue,null,r.a.createElement(Me,{label:"Base URL",placeholder:"http://www.example.com/id={}",name:"baseurl",value:t,onChange:this.formHandler,color:this.state.baseurlIsDanger?"danger":"link"}),r.a.createElement(Me,{label:"Start",placeholder:"0",name:"start",value:n,onChange:this.formHandler,color:this.state.rangeIsDanger?"danger":"link"}),r.a.createElement(Me,{label:"End",placeholder:"17",name:"end",value:a,onChange:this.formHandler,color:this.state.rangeIsDanger?"danger":"link"}),r.a.createElement(y.Button,{color:"link"},"Start Scraping"),r.a.createElement("p",null,this.state.errorMessage||""))))}}]),t}(a.Component);function We(){var e=Object(h.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n"]);return We=function(){return e},e}var Je=E.a.div(We()),Ge=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.repositoryName;return r.a.createElement(Oe,null,r.a.createElement(Je,null,r.a.createElement(Te,{upText:"1",lowText:"Scrape"})),r.a.createElement(He,{repositoryName:e}))}}]),t}(a.Component),Ke=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){try{var e=this.props.match.params.repositoryName}catch(t){e="mock"}return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("section",{className:"section",style:{padding:"0"}},"Working on: "," ",r.a.createElement("b",null,e),r.a.createElement(Ge,{repositoryName:e})))}}]),t}(a.Component),qe=n(22),Xe=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).setGraph=function(e){var t=window.API_ENDPOINT+"/repository/"+e+"/graph/";"mock"!==e?x.a.get(t).then(function(e){n.setState({graph:{nodes:new qe.DataSet(e.data.nodes),edges:new qe.DataSet(e.data.edges)}})}):x.a.get("http://localhost:3001/graph").then(function(e){n.setState({graph:{nodes:new qe.DataSet(e.data.nodes),edges:new qe.DataSet(e.data.edges)}})}).catch(function(e){console.log("mock fallback error ",e)})},n.state={options:{nodes:{shape:"circle"},layout:{hierarchical:{enabled:!0,direction:"LR",sortMethod:"directed"}},interaction:{hover:!0}},rendered:!1,selectedNode:null},n.network={},n.networkRef=Object(a.createRef)(),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.repositoryName||"mock";this.setGraph(e)}},{key:"renderGraphObject",value:function(){var e=this;this.network=new qe.Network(this.networkRef.current,this.state.graph,this.state.options),this.network.on("hoverNode",function(t){var n=t.node,a=e.state.graph.nodes.get(n);e.props.setSelectedNode({nodeid:n,nodeData:a})}),this.network.on("blurNode",function(t){e.state.selectedNode?e.props.setSelectedNode(e.state.selectedNode):e.props.setSelectedNode(null)}),this.network.on("selectNode",function(t){var n=t.nodes[0],a=e.state.graph.nodes.get(n);e.props.setSelectedNode({nodeData:a,nodeid:n}),e.setState({selectedNode:{nodeData:a,nodeid:n}})})}},{key:"render",value:function(){return this.state.graph&&!this.state.rendered&&(this.renderGraphObject(),this.setState({rendered:!0})),r.a.createElement("div",{style:{height:"100%"}},r.a.createElement("div",{ref:this.networkRef,style:{height:"100%"}}," ","Graph is loading"," "))}}]),t}(a.Component);function $e(){var e=Object(h.a)(["\n    visibility: ",";\n    position: absolute;\n    margin-top: 0em;\n    margin-left: 3em;\n    z-index: 3;\n    background-color: #ffffff;\n    padding: 0.25em 0.25em 0.25em 0.25em;\n    border-style: solid;\n    border-width: 1px;\n"]);return $e=function(){return e},e}function Qe(){var e=Object(h.a)(["\n    font-size: 2em;\n    cursor: pointer;\n    margin: 0.25em 0.5em 0.25em 0.5em;\n    color: ","\n"]);return Qe=function(){return e},e}var Ye=Object(E.a)(L.a)(Qe(),function(e){return e.isDisabled?"#aaaaaa":"#4a4a4a"}),Ze=E.a.p($e(),function(e){return e.visibility?"visible":"hidden"});function et(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),l=n[0],o=n[1];return r.a.createElement("div",{onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},onClick:e.onClick},r.a.createElement(Ye,{icon:e.icon||F.i,isDisabled:e.isDisabled}),r.a.createElement(Ze,{visibility:l},e.tooltip||"tooltip"))}var tt=function(e,t){console.log("selected",e),x.a.post(window.API_ENDPOINT+"/repository/"+t+"/graph/expand/",{node_id:e}).then(function(e){window.location.reload()}).catch(function(e){console.log(e)})};function nt(e){return r.a.createElement(et,{icon:F.g,tooltip:"Expand selected node",onClick:e.targetNode?function(){return tt(e.targetNode,e.repositoryName)}:function(){alert("no selected node found")},isDisabled:!e.targetNode})}var at=function(e,t){console.log("selected",e),x.a.post(window.API_ENDPOINT+"/repository/"+t+"/graph/delete/",{node_id:e}).then(function(e){window.location.reload()}).catch(function(e){console.log(e)})};function rt(e){return r.a.createElement(et,{icon:F.b,tooltip:"Compress selected node.",onClick:e.targetNode?function(){return at(e.targetNode,e.repositoryName)}:function(){alert("no selected node found")},isDisabled:!e.targetNode})}function lt(e){return r.a.createElement(et,{icon:F.c,onClick:e.onClick,tooltip:"Toggle fullscreen visualizer"})}var ot=function(e,t){console.log("adding",e);var n=prompt("Please input column name");n&&x.a.post(window.API_ENDPOINT+"/repository/"+t+"/datatable/add/",{node_id:e,column_name:n}).then(function(e){window.location.reload()}).catch(function(e){console.log(e)})};function it(e){return r.a.createElement(et,{icon:F.d,tooltip:"Create new column from selected node",onClick:e.targetNode?function(){return ot(e.targetNode,e.repositoryName)}:function(){alert("no selected node found")},isDisabled:!e.targetNode})}function ct(){var e=Object(h.a)(["\n    display: flex;\n    flex-direction: row;\n    border-style: solid;\n    border-width: 0.1px;\n    margin: 0em 1em 0em 1em;\n"]);return ct=function(){return e},e}function ut(){var e=Object(h.a)(["\n    display: flex;\n    flex-direction: row;\n"]);return ut=function(){return e},e}var st=E.a.div(ut()),mt=E.a.div(ct());function dt(e){return r.a.createElement(st,null,r.a.createElement(mt,null,r.a.createElement(nt,{targetNode:e.selectedNodeId,repositoryName:e.repositoryName}),r.a.createElement(rt,{targetNode:e.selectedNodeId,repositoryName:e.repositoryName})),r.a.createElement(mt,null,r.a.createElement(it,{targetNode:e.selectedNodeId,repositoryName:e.repositoryName})),r.a.createElement(mt,null,r.a.createElement(lt,{onClick:e.setFullscreenVisualizer})))}function pt(e){return r.a.createElement("div",{style:{overflow:"auto"}},r.a.createElement(U.Field,null,r.a.createElement(U.Label,null,"Node Information"),r.a.createElement("hr",null),r.a.createElement(U.Label,null,"Selecting:"," ",e.selectedNode?e.selectedNode.nodeData.label:"none"),r.a.createElement(U.Control,null,r.a.createElement(U.Textarea,{className:"has-fixed-size",rows:e.fullscreenVisualizer?18:8,readOnly:!0,value:e.selectedNode?e.selectedNode.nodeData.title:"",placeholder:"none"}))),r.a.createElement(dt,{selectedNodeId:e.selectedNode?e.selectedNode.nodeData.id:null,repositoryName:e.repositoryName,setFullscreenVisualizer:e.setFullscreenVisualizer}))}function ft(){var e=Object(h.a)(["\n    margin: 0em 1em 1em 1em;\n"]);return ft=function(){return e},e}function bt(){var e=Object(h.a)(["\n    height: ",";\n    display: flex;\n    flex-direction: row;\n    margin-top: 1em;\n"]);return bt=function(){return e},e}var ht=E.a.div(bt(),function(e){return e.fullscreenVisualizer?"80vh":"50vh"}),Et=Object(E.a)(y.Box)(ft());function vt(e){var t=Object(a.useState)(!0),n=Object(j.a)(t,2),l=n[0],o=n[1],i=Object(a.useState)(null),c=Object(j.a)(i,2),u=c[0],s=c[1];return r.a.createElement(ht,{fullscreenVisualizer:l},r.a.createElement(Et,{style:{width:"60%"}},r.a.createElement(Xe,{repositoryName:e.repositoryName,setSelectedNode:s})),r.a.createElement(Et,{style:{width:"40%"}},r.a.createElement(pt,{selectedNode:u,repositoryName:e.repositoryName,setFullscreenVisualizer:function(){return o(!l)},fullscreenVisualizer:l})))}var yt=function(e,t){if(console.log("DataTable is using reponame = ",e),"mock"===e)return t([{id:"1",col1:"some val"},{id:"2",col1:"some val"},{id:"3",col1:"some val"},{id:"4",col1:"some val"},{id:"5",col1:"some val"}]),null;x.a.get(window.API_ENDPOINT+"/repository/"+e+"/datatable/").then(function(e){t(e.data)}).catch(function(e){console.log("using mock data"),t([{id:"1",col1:"some val"},{id:"2",col1:"some val"},{id:"3",col1:"some val"},{id:"4",col1:"some val"},{id:"5",col1:"some val"}])})},gt=function(e,t,n){var a=[];return"head"===t?(console.log(e),a=Object.keys(e).map(function(e){return r.a.createElement("th",null,r.a.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},r.a.createElement("span",null,e),"id"!==e&&r.a.createElement("span",null,r.a.createElement(L.a,{icon:F.j,style:{cursor:"pointer"},onClick:function(t){return function(e,t){console.log(e),window.confirm(String("Are you sure you want to delete column [ "+e+" ] ?"))&&x.a.post(window.API_ENDPOINT+"/repository/"+t+"/datatable/delete/",{column_name:e}).then(function(e){window.location.reload()}).catch(function(e){console.log(e)})}(e,n)}}))))})):a=Object.values(e).map(function(e){return r.a.createElement("td",null,e)}),a},jt=function(e,t){return[r.a.createElement("tr",null,gt(e[0],"head",t)),e.map(function(e){return r.a.createElement("tr",null," ",gt(e,"body")," ")})]};function Ot(e){var t=Object(a.useState)(null),n=Object(j.a)(t,2),l=n[0],o=n[1];if(!l)return yt(e.repositoryName||"mock",o),r.a.createElement("div",null,"Loading");var i=jt(l,e.repositoryName),c=Object(j.a)(i,2),u=c[0],s=c[1];return r.a.createElement("div",null,r.a.createElement(y.Table,null,r.a.createElement("thead",null,u),r.a.createElement("tbody",null,s)))}function xt(){var e=Object(h.a)(["\n    margin: 1em 1em 1em 1em;\n    flex-grow: 1;\n"]);return xt=function(){return e},e}var wt=Object(E.a)(y.Box)(xt()),kt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(wt,null,r.a.createElement(Ot,{repositoryName:this.props.repositoryName||"mock"}))}}]),t}(a.Component);function Nt(e){var t=void 0===e.match?"mock":e.match.params.repositoryName;return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("section",{className:"section",style:{padding:"0"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},r.a.createElement(vt,{repositoryName:t}),r.a.createElement("hr",null),r.a.createElement(kt,{repositoryName:t}))))}var Ct=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(U.InputFile,Object.assign({},this.props,{name:"file"}))}}]),t}(a.Component);function St(){var e=Object(h.a)(["\n    display: block;\n    position: absolute;\n    z-index: 1; /* Sit on top */\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.4);\n"]);return St=function(){return e},e}function It(){var e=Object(h.a)(["\n    display: block;\n    height: 400px;\n    background-color: azure;\n    width: 50vw;\n    margin: 10% auto;\n"]);return It=function(){return e},e}var Dt=Object(E.a)(y.Box)(It()),Bt=E.a.div(St()),Tt=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).handleStartScraping=function(){var e=n.props.repositoryName;x.a.get(window.API_ENDPOINT+"/repository/"+e+"/scraper/file/confirm/").then(window.location="/").catch(function(e){alert(e.data)})},n.handleDiscard=function(){var e=n.props,t=e.handleToggleConfirmBox,a=e.repositoryName;x.a.get(window.API_ENDPOINT+"/repository/"+a+"/scraper/file/discard/").then(t()).catch(function(e){alert(e.data)})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.showConfirmBox,n=e.textAreaData;return r.a.createElement("div",{style:{display:t?"block":"none"}},r.a.createElement(Bt,null,r.a.createElement(Dt,null,r.a.createElement(U.Field,null,r.a.createElement(U.Label,null,"File preview:"),r.a.createElement(U.Control,null,r.a.createElement(U.Textarea,{className:"has-fixed-size",rows:8,readOnly:!0,value:JSON.stringify(n,null,"\t")}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.a.createElement(y.Button,{style:{width:"40%"},color:"link",onClick:this.handleStartScraping},"Start Scraping"),r.a.createElement(y.Button,{style:{width:"40%"},color:"warning",onClick:this.handleDiscard},"Restart")))))}}]),t}(a.Component);function Pt(){var e=Object(h.a)(["\n    display: flex;\n    align-content: center;\n    flex-direction: column;\n"]);return Pt=function(){return e},e}var _t=E.a.div(Pt()),zt=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleFileChange=function(e){n.setState({fileName:e.target.value,fileInputColor:void 0,fileLabel:void 0,file:e.target.files[0]})},n.handleFormSubmit=function(e){var t=n.state.fileName,a=n.props.repositoryName;if(t){n.setState({fileInputColor:void 0,fileLabel:void 0});var r=new FormData;r.append("file",n.state.file),x.a.post(window.API_ENDPOINT+"/repository/"+a+"/scraper/file/submit/",r,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){n.handleToggleConfirmBox(),n.setState({textAreaData:e.data})}).catch(function(e){n.setState({error:e.response.data}),alert(e.response.data)})}else n.setState({fileInputColor:"danger",fileLabel:"Please Select Input File"});e.preventDefault()},n.handleToggleConfirmBox=function(){var e=n.state.showConfirmBox;n.setState({showConfirmBox:~e})},n.state={fileName:void 0,fileInputColor:void 0,fileLabel:void 0,showConfirmBox:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.fileInputColor,n=e.fileLabel,a=e.showConfirmBox,l=e.textAreaData,o=this.props.repositoryName;return r.a.createElement("div",null,r.a.createElement(Tt,{showConfirmBox:a,handleToggleConfirmBox:this.handleToggleConfirmBox,textAreaData:l,repositoryName:o}),r.a.createElement(_.a,null,r.a.createElement("h3",null,"Scrape Using URL File")),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement(_t,null,r.a.createElement(U.Field,null,r.a.createElement(U.Label,null,"[ 1 ] Choose the URL file"),r.a.createElement(U.Control,null,r.a.createElement(Ct,{onChange:this.handleFileChange,color:t,label:n}))),r.a.createElement(U.Field,null,r.a.createElement(U.Label,null,"[ 2 ] Verify File Format"),r.a.createElement(U.Control,null,r.a.createElement(y.Button,null,"Upload"))))))}}]),t}(a.Component);function Lt(){var e=Object(h.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n"]);return Lt=function(){return e},e}var Ft=E.a.div(Lt()),At=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.repositoryName;return r.a.createElement(Oe,null,r.a.createElement(Ft,null,r.a.createElement(Te,{upText:"1",lowText:"Scrape"})),r.a.createElement(zt,{repositoryName:e}))}}]),t}(a.Component),Rt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){try{var e=this.props.match.params.repositoryName}catch(t){e="mock"}return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("section",{className:"section",style:{padding:"0"}},"Working on: "," ",r.a.createElement("b",null,e),r.a.createElement(At,{repositoryName:e})))}}]),t}(a.Component);function Mt(){var e=Object(h.a)(["\n    border-radius: 100%;\n    width: 250px;\n    height: 250px;\n    object-fit: cover;\n"]);return Mt=function(){return e},e}var Vt=E.a.img(Mt());function Ut(e){return r.a.createElement(Vt,{src:e.image||n(97),alt:""})}var Ht=n(29);function Wt(){var e=Object(h.a)(["\n    display: flex;\n    flex-direction: row;\n    a {\n        color: #4a4a4a;\n    }\n"]);return Wt=function(){return e},e}function Jt(){var e=Object(h.a)(["\n    font-size: 2em;\n    margin: 0em 1em 0em 1em;\n    display: inline-block;\n    cursor: pointer;\n"]);return Jt=function(){return e},e}var Gt=Object(E.a)(L.a)(Jt()),Kt=E.a.span(Wt());function qt(e){return r.a.createElement(Kt,null,r.a.createElement("a",{href:e.facebook},r.a.createElement(Gt,{icon:Ht.a})),r.a.createElement("a",{href:e.linkedin},r.a.createElement(Gt,{icon:Ht.c})),r.a.createElement("a",{href:e.github},r.a.createElement(Gt,{icon:Ht.b})))}function Xt(){var e=Object(h.a)(["\n    width: 30vw;\n    height: 80vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    overflow: scroll;\n"]);return Xt=function(){return e},e}var $t=Object(E.a)(y.Box)(Xt());function Qt(e){return r.a.createElement($t,null,r.a.createElement(Ut,{image:e.image}),r.a.createElement("hr",null),r.a.createElement("b",null,"Name"),r.a.createElement("p",null,e.name||"John Doe"),r.a.createElement("hr",null),r.a.createElement("b",null,"ID"),r.a.createElement("p",null,e.id||"58227xxxxx"),r.a.createElement("hr",null),r.a.createElement("b",null,"Responsibility"),r.a.createElement("p",null,e.role||"something"),r.a.createElement("hr",null),r.a.createElement("b",null,"Profile"),r.a.createElement(qt,e.socialBar))}function Yt(){var e=Object(h.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n"]);return Yt=function(){return e},e}function Zt(){var e=Object(h.a)(["\n    display: flex;\n    height: 100%;\n    flex-direction: column;\n    justify-content: space-around;\n"]);return Zt=function(){return e},e}var en=E.a.div(Zt()),tn=E.a.div(Yt()),nn={image:n(98),name:"Kriddanai Roonguthai",id:5822780334,role:"Frontend Developer, Project Manager",socialBar:{facebook:"https://www.facebook.com/tonny6262",github:"https://github.com/tonny62",linkedin:"https://www.linkedin.com/in/kriddanairoo/"}};function an(){return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("section",{className:"section",style:{height:"100vh"}},r.a.createElement(en,null,r.a.createElement(tn,null,r.a.createElement(Qt,nn),r.a.createElement(Qt,null)))))}function rn(){return r.a.createElement("div",null,r.a.createElement(g,null),"Documentation",r.a.createElement("section",{className:"section",style:{height:"100vh",display:"flex",justifyContent:"space-around"}},r.a.createElement("img",{src:n(99),style:{width:"40vw",height:"40vw"},alt:"Work In Progress"})))}function ln(){var e=Object(h.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n"]);return ln=function(){return e},e}function on(){var e=Object(h.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    width: 30%;\n"]);return on=function(){return e},e}function cn(){var e=Object(h.a)(["\n    color: #ffffff\n    width: 70%;\n    h2 {\n        font-size: 2.5em;\n    }\n"]);return cn=function(){return e},e}function un(){var e=Object(h.a)(["\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    background-color: ",";\n    height: 15em;\n    cursor: ","\n"]);return un=function(){return e},e}var sn=Object(E.a)(y.Box)(un(),function(e){return e.color||"#ee5466"},function(e){return e.onClick?"pointer":"default"}),mn=E.a.div(cn()),dn=E.a.div(on()),pn=E.a.div(ln());function fn(e){return r.a.createElement(sn,e,r.a.createElement(mn,null,r.a.createElement("h2",null,r.a.createElement("b",null,e.title||"props.title")),r.a.createElement("p",null,e.subtitle||"props.subtitle")),r.a.createElement(dn,null,r.a.createElement(pn,null,e.img||r.a.createElement("img",{src:"./somepic.jpg",alt:"nothing here",style:{display:"inline"}}))))}function bn(){var e=Object(h.a)(["\n    width: 50vw;\n"]);return bn=function(){return e},e}function hn(){var e=Object(h.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n"]);return hn=function(){return e},e}var En=E.a.div(hn()),vn=E.a.div(bn()),yn=function(e){window.open(window.API_ENDPOINT+"/repository/"+e+"/exporter/json","_blank")};function gn(e){var t=[{title:"Export into JSON file",subtitle:"Suitable for general use of scraped data eg: cross tabulation",img:r.a.createElement("img",{src:n(100),alt:"JSON Export"}),onClick:function(){return yn(e.repositoryName)}},{title:"Export into Linked Data",subtitle:"Interactively browse throught parsed data and linked data dictionary",color:"#3273DC",img:r.a.createElement("img",{src:n(101),alt:"LinkedData Export"}),onClick:function(){b.push("/export/lod/"+e.repositoryName)}},{title:"Export into MongoDB Insert",subtitle:"Data will be inserted into provided MongoDB Endpoint",color:"#00C1A2",img:r.a.createElement("img",{src:n(102),alt:"Mongodb Export"}),onClick:function(){b.push("/export/mongodb/"+e.repositoryName)}}].map(function(e){return r.a.createElement(fn,e)});return r.a.createElement(En,null,r.a.createElement(vn,null,t))}function jn(){var e=Object(h.a)(["\n    margin: 3em;\n"]);return jn=function(){return e},e}var On=E.a.div(jn());function xn(e){var t=e.match?e.match.params.repositoryName:"mock";return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("section",{className:"section",style:{padding:"0",height:"100%"}},r.a.createElement(On,null,r.a.createElement(gn,{repositoryName:t}))))}function wn(e){var t=e.baseurl,n=e.entityIdentifier;return r.a.createElement(r.a.Fragment,null,r.a.createElement("u",{style:{fontSize:"1.5em"}},t),r.a.createElement("span",{style:{fontSize:"1.75em"}}," / "),r.a.createElement("u",{style:{fontSize:"1.5em"}},"<"+n+">"))}function kn(){var e=Object(h.a)(['\n    font-size: 1.25em;\n    cursor: pointer;\n    margin: 0.25em 0.5em 0.25em 0.5em;\n    color: "#4a4a4a"};\n']);return kn=function(){return e},e}var Nn=Object(E.a)(L.a)(kn());function Cn(e){return r.a.createElement(Nn,{icon:F.h,onClick:e.onClick})}function Sn(){var e=Object(h.a)(["\n    width: 40%;\n    z-index: 2;\n"]);return Sn=function(){return e},e}function In(){var e=Object(h.a)(["\n    background: #4e4e4e;\n    width: 100%;\n    height: 100%;\n    opacity: 0.9;\n    position: absolute;\n"]);return In=function(){return e},e}function Dn(){var e=Object(h.a)(["\n    visibility: ",";\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    position: absolute;\n    z-index: 1;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n"]);return Dn=function(){return e},e}var Bn=E.a.div(Dn(),function(e){return e.visibility||"visible"}),Tn=E.a.div(In()),Pn=Object(E.a)(y.Box)(Sn()),_n=function(e,t,n,a){x.a.post(window.API_ENDPOINT+"/repository/"+n+"/rdf/set_identifier/",{identifier:t,baseurl:e}).then(function(e){window.location.reload()})};function zn(e){var t=e.baseurl,n=void 0===t?"http://www.example.com/editmenu":t,l=e.entityIdentifier,o=void 0===l?"id":l,i=e.availableIdentifier,c=void 0===i?["id","name"]:i,u=e.repositoryName,s=Object(a.useState)(n),m=Object(j.a)(s,2),d=m[0],p=m[1],f=Object(a.useState)(o),b=Object(j.a)(f,2),h=b[0],E=b[1];return r.a.createElement(Bn,{visibility:e.visibility},r.a.createElement(Tn,{onClick:e.onClick}),r.a.createElement(Pn,null,r.a.createElement(y.Content,null,r.a.createElement("h3",null,"Edit Base URL"),r.a.createElement("hr",null),r.a.createElement(U.Field,null,r.a.createElement(U.Label,null,"Base URL"),r.a.createElement(U.Control,null,r.a.createElement(U.Input,{value:d,onChange:function(e){p(e.target.value)}})),r.a.createElement(U.Help,null,"This will be the url prefixing the entities.")),r.a.createElement("br",null),r.a.createElement(U.Field,null,r.a.createElement(U.Label,null,"Entity Identifier"),r.a.createElement(U.Control,null,r.a.createElement(U.Select,{value:h,onChange:function(e){E(e.target.value)}},c.map(function(e){return r.a.createElement("option",{value:e},"<"+e+">")}))),r.a.createElement(U.Help,null,"This will be the name of each entity(row) parsed from scraped data.")),r.a.createElement("br",null),r.a.createElement(U.Field,{kind:"group"},r.a.createElement(U.Control,null,r.a.createElement(y.Button,{type:"primary",onClick:function(){return _n(d,h,u,e)}},"Confirm")),r.a.createElement(U.Control,null,r.a.createElement(y.Button,{color:"link",onClick:e.onClick},"Cancel"))))))}function Ln(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),l=n[0],o=n[1],i=e.baseurl,c=e.entityIdentifier,u=e.availableIdentifier,s=e.repositoryName;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Cn,{onClick:function(){o(!l)}}),r.a.createElement(zn,{visibility:l?"visible":"hidden",onClick:function(){o(!l)},baseurl:i,entityIdentifier:c,availableIdentifier:u,repositoryName:s}))}function Fn(e){var t=e.baseurl,n=void 0===t?"http://www.example.com":t,a=e.entityIdentifier,l=void 0===a?"id":a,o=e.availableIdentifier,i=void 0===o?["<id>","<name>"]:o,c=e.repositoryName;return r.a.createElement("span",null,r.a.createElement(wn,{baseurl:n,entityIdentifier:l}),r.a.createElement(Ln,{baseurl:n,entityIdentifier:l,availableIdentifier:i,repositoryName:c}))}function An(){var e=Object(h.a)(["\n    height: 100%;\n"]);return An=function(){return e},e}function Rn(){var e=Object(h.a)(['\n    font-size: 1.25em;\n    cursor: pointer;\n    margin: 0.25em 0.5em 0.25em 0.5em;\n    color: "#4a4a4a"};\n']);return Rn=function(){return e},e}var Mn=Object(E.a)(L.a)(Rn()),Vn=Object(E.a)(y.Table)(An()),Un=function(e,t){x.a.get(window.API_ENDPOINT+"/repository/"+t+"/rdf/rules/").then(function(t){console.log(t.data),e(t.data)}).catch(function(e){console.log(e)})},Hn=function(e,t){return e.map(function(e){return r.a.createElement("tr",null,r.a.createElement("td",{style:{textAlign:"center"}},e.s),r.a.createElement("td",{style:{textAlign:"center"}},e.p),r.a.createElement("td",{style:{textAlign:"center"}},e.o),r.a.createElement("td",null,r.a.createElement(Mn,{icon:F.j,onClick:function(){return function(e,t){window.confirm("Delete this rule?")&&x.a.post(window.API_ENDPOINT+"/repository/"+t+"/rdf/remove_rule/",{index:e}).then(function(e){window.location.reload()}).catch(function(e){console.log(e)})}(e.i,t)}})))})};function Wn(e){var t=e.repositoryName,n=Object(a.useState)(null),l=Object(j.a)(n,2),o=l[0],i=l[1];return null===o?(Un(i,t),"loading"):r.a.createElement("div",null,r.a.createElement(Vn,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Subject(s)"),r.a.createElement("th",null,"Predicate(s)"),r.a.createElement("th",null,"Object(s)"),r.a.createElement("th",null,"Remove"))),r.a.createElement("tbody",null,Hn(o,t))))}function Jn(e){return r.a.createElement("div",null,r.a.createElement(y.Button,Object.assign({size:"large",color:"link"},e),"Add Rule"))}function Gn(e){var t,n,a,l=e.objectColumn,o=void 0===l?"mock":l,i=e.setObjectColumn,c=void 0===i?console.log:i,u=e.setObjectType,s=void 0===u?console.log:u,m=e.objectType,d=void 0===m?"Literal(String)":m,p=e.availableObjectColumns,f=void 0===p?["id","name","mock"]:p,b=e.baseURI,h=void 0===b?"http://mock.com/<mock>":b,E=(t=d,n=s,a=["Literal(String)","Object(Entity)"],r.a.createElement(U.Control,null,a.map(function(e){return r.a.createElement(U.Radio,{value:e,checked:e===t,onChange:function(e){return n(e.target.value)}},e)}))),v=function(e,t,n,a,l){return r.a.createElement(U.Control,null,r.a.createElement(U.Select,{value:e,disabled:null===a,onChange:function(e){t(e.target.value)}},n.map(function(e){return r.a.createElement("option",{value:e},"Object(Entity)"===a?l+"/<":"<",e,">")})))}(o,c,f,d,h);return r.a.createElement(U.Field,{kind:"group"},r.a.createElement(U.Control,null,r.a.createElement(U.Label,null,"Object Type"),E),r.a.createElement(U.Control,null,r.a.createElement(U.Label,null,"Column"),v))}function Kn(){var e=Object(h.a)(["\n    background: #4e4e4e;\n    position: absolute;\n    width: 100vw;\n    height: 100vh;\n    z-index: 2;\n    visibility: ",";\n"]);return Kn=function(){return e},e}function qn(){var e=Object(h.a)(["\n    position: absolute;\n    z-index: 3;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 70vw;\n    height: 90vh;\n    visibility: ",";\n"]);return qn=function(){return e},e}var Xn=Object(E.a)(y.Box)(qn(),function(e){return e.visibility?"visible":"hidden"}),$n=E.a.div(Kn(),function(e){return e.visibility?"visible":"hidden"});function Qn(e){var t=e.visibility,n=void 0===t||t;return r.a.createElement(r.a.Fragment,null,r.a.createElement($n,{visibility:n}),r.a.createElement(Xn,{visibility:n}," ",e.children," "))}function Yn(){var e=Object(h.a)(["\n    margin-left: 1em;\n"]);return Yn=function(){return e},e}function Zn(){var e=Object(h.a)(["\n    height: 3em;\n    line-height: 3em;\n    background-color: ",";\n    &:hover {\n        background-color: ",";\n    }\n    \nF00\n"]);return Zn=function(){return e},e}function ea(){var e=Object(h.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 20%;\n    flex-shrink: 0;\n    margin: 1em 1em 0em;}\n"]);return ea=function(){return e},e}function ta(){var e=Object(h.a)(["\n    border-style: solid;\n    border-width: 1px;\n    width: 100%\n    height: 100%\n    margin: 1em 1em 0em;\n    display: flex;\n    flex-direction: column;\n    overflow: scroll;\n"]);return ta=function(){return e},e}var na=E.a.div(ta()),aa=E.a.div(ea()),ra=E.a.div(Zn(),function(e){return e.active?"#FF9597":"white"},function(e){return e.active?"#FF9597":"#ededed"}),la=E.a.div(Yn());function oa(e){var t=e.data,n=void 0===t?"content":t,a=e.active,l=void 0!==a&&a;return r.a.createElement(ra,{onClick:e.onClick,active:l},r.a.createElement(la,null,n))}function ia(e){var t=e.columnName,n=void 0===t?"mockColName":t,a=e.options,l=void 0===a?["option1","option2"]:a,o=e.activeCell,i=void 0===o?null:o,c=e.onClick,u=void 0===c?console.log:c;return r.a.createElement(aa,null,r.a.createElement("b",null,n),r.a.createElement(na,null,l.map(function(e,t){return r.a.createElement(oa,{data:e,active:e===i,onClick:function(){u(e)}})})))}function ca(e){var t=e.doc;return r.a.createElement("div",{style:{width:"50%",display:"flex",flexDirection:"column",alignItems:"center",margin:"1em 1em 0em",flexShrink:"0"}},r.a.createElement("b",null,"Documentation"),r.a.createElement("div",{style:{borderStyle:"solid",borderWidth:"1px",padding:"1em 1em 1em 1em",margin:"1em 0 0",height:"100%",width:"100%",overflow:"scroll"}},r.a.createElement(y.Content,null,t&&r.a.createElement("h4",null,t.label),t?Object.keys(t).map(function(e){return r.a.createElement("p",null,r.a.createElement("b",null,e),": ",t[e])}):"Please Select Vocabulary and Word.")))}function ua(){var e=Object(h.a)(["\n    display: flex;\n    height: 80%;\n    justify-content: space-between;\n    margin: 1em 0em 0em 0em;\n"]);return ua=function(){return e},e}var sa=E.a.div(ua()),ma=function(e,t){x.a.get(window.API_ENDPOINT+"/repository/"+t+"/rdf/vocabulary/").then(function(t){e(t.data)}).catch(function(t){console.log(t),e({foaf:{"foaf:Bag":{comment:"this is a bag",label:"Bag"},"foaf:Bag2":{comment:"this is a bag number two",label:"Bag"},"foaf:Bag3":{comment:"this is a bag number three",label:"Bag"}},rdf:{"rdf:Bag":{comment:"whatever1",label:"what"},"rdf:Bag2":{comment:"whatever2",label:"nani"},"rdf:Bag3":{comment:"foo",label:"bar"}}})})};function da(e){var t=Object(a.useState)(null),n=Object(j.a)(t,2),l=n[0],o=n[1],i=Object(a.useState)(null),c=Object(j.a)(i,2),u=c[0],s=c[1],m=Object(a.useState)(null),d=Object(j.a)(m,2),p=d[0],f=d[1],b=e.visibility,h=e.setVisibility,E=e.setPredicate,v=e.repositoryName;if(null===l)return ma(o,v),"loading";console.log(l);var g=Object.keys(l),O=u?Object.keys(l[u]):[],x=u&&O?l[u][p]:void 0;return r.a.createElement(Qn,{visibility:b},r.a.createElement(y.Content,{style:{margin:"0 0 0 0"}},r.a.createElement("h3",{style:{margin:"0 0 0 0"}},"Linked Data Vocabulary"),r.a.createElement("hr",{style:{marginBottom:"0"}})),r.a.createElement(sa,null,r.a.createElement(ia,{columnName:"Vocabulary",options:g,onClick:s,activeCell:u}),r.a.createElement(ia,{columnName:"Word",options:O,onClick:f,activeCell:p}),r.a.createElement(ca,{doc:x})),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"1em"}},r.a.createElement(y.Button,{onClick:h,color:"link"},"Back"),r.a.createElement(y.Button,{onClick:function(){E({vocab:u,word:p}),h()}},"Confirm")))}function pa(){var e=Object(h.a)(["\n    width: 60%;\n    z-index: 2;\n"]);return pa=function(){return e},e}function fa(){var e=Object(h.a)(["\n    background: #4e4e4e;\n    width: 100%;\n    height: 100%;\n    opacity: 0.9;\n    position: absolute;\n"]);return fa=function(){return e},e}function ba(){var e=Object(h.a)(["\n    visibility: ",";\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    position: absolute;\n    z-index: 1;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n"]);return ba=function(){return e},e}var ha=E.a.div(ba(),function(e){return e.visibility||"visible"}),Ea=E.a.div(fa()),va=Object(E.a)(y.Box)(pa());function ya(e){var t=e.subject,n=void 0===t?"http://www.mock.com":t,l=e.availableIdentifier,o=void 0===l?["1","2"]:l,i=e.entityIdentifier,c=void 0===i?"mock":i,u=e.repositoryName,s=void 0===u?"mock":u,m=Object(a.useState)("Literal(String)"),d=Object(j.a)(m,2),p=d[0],f=d[1],b=Object(a.useState)(o[0]||null),h=Object(j.a)(b,2),E=h[0],v=h[1],g=Object(a.useState)(void 0),O=Object(j.a)(g,2),w=O[0],k=O[1],N=Object(a.useState)(!1),C=Object(j.a)(N,2),S=C[0],I=C[1],D={subject:n+"/<"+c+">",predicate:w,object:{objectType:p,objectColumn:E}};return r.a.createElement(ha,{visibility:e.visibility},r.a.createElement(da,{visibility:S,setVisibility:function(){return I(!1)},setPredicate:k,repositoryName:s}),r.a.createElement(Ea,{onClick:e.onClick}),r.a.createElement(va,null,r.a.createElement(y.Content,null,r.a.createElement("h3",null,"Add New Linked Data Rule"),r.a.createElement("hr",null),r.a.createElement(U.Field,null,r.a.createElement(U.Label,null,"1. Subject"),r.a.createElement(U.Control,null,r.a.createElement(U.Input,{value:D.subject,disabled:!0})),r.a.createElement(U.Help,null,"New links will be associated with this URI.")),r.a.createElement("br",null),r.a.createElement(U.Field,null,r.a.createElement(U.Label,null,"2. Predicate"),r.a.createElement(U.Control,null,r.a.createElement(y.Button,{onClick:function(){return I(!0)}},r.a.createElement("span",{className:"icon"},r.a.createElement(L.a,{icon:F.h})),r.a.createElement("span",null,"Linked Data Vocabulary")),D.predicate&&r.a.createElement("div",null,"Selected predicate:"," ",r.a.createElement("mark",null,D.predicate.word))),r.a.createElement(U.Help,null,"Use interactive Linked Data Vocabulary to select predicate")),r.a.createElement("br",null),r.a.createElement(U.Field,null,r.a.createElement(U.Label,null,"3. Object"),r.a.createElement(Gn,{objectType:p,objectColumn:E,setObjectType:f,setObjectColumn:v,availableObjectColumns:o,baseURI:n}),r.a.createElement(U.Help,null,"Objects can either be Literal (plain string) or Entity (can be linked)")),r.a.createElement("br",null),r.a.createElement(U.Field,{kind:"group"},r.a.createElement(U.Control,null,r.a.createElement(y.Button,{onClick:function(){var e;e=D,console.log(e),x.a.post(window.API_ENDPOINT+"/repository/"+s+"/rdf/add_rule/",e).then(function(e){window.location.reload()}).catch(function(e){console.log(e)})},disabled:!D.predicate||!D.object.objectType||!D.object.objectColumn},"Submit")),r.a.createElement(U.Control,null,r.a.createElement(y.Button,{color:"link",onClick:e.onClick},"Cancel"))))))}function ga(){var e=Object(h.a)(["\n    display: flex;\n    width: 100%;\n    justify-content: space-around;\n"]);return ga=function(){return e},e}var ja=E.a.div(ga());function Oa(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),l=n[0],o=n[1],i=e.repositoryName,c=void 0===i?"mock":i;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ja,null,r.a.createElement(Jn,{onClick:function(){o(!l)}})),r.a.createElement(ya,Object.assign({},e,{visibility:l?"visible":"hidden",onClick:function(){o(!l)},repositoryName:c})))}var xa=function(e,t){x.a.get(window.API_ENDPOINT+"/repository/"+t+"/rdf/").then(function(t){e(t.data),console.log(t.data)}).catch(function(t){console.log(t),e(!1)})};function wa(e){var t=Object(a.useState)(null),n=Object(j.a)(t,2),l=n[0],o=n[1];if(null===l)return xa(o,e.repositoryName),r.a.createElement("div",null,"Loading");var i=l.base_url,c=l.entity_uri,u=l.parsed_column,s=e.repositoryName;return r.a.createElement("div",null,r.a.createElement(y.Content,null,r.a.createElement("h1",null,"Linked Data Construction Tool"),r.a.createElement("br",null),r.a.createElement("dl",null,r.a.createElement("dt",null,r.a.createElement("h3",null,"Base URL - [ ",e.repositoryName," ] ")),r.a.createElement("dd",null,r.a.createElement(Fn,{baseurl:i,entityIdentifier:c,availableIdentifier:u,repositoryName:s}))),r.a.createElement("hr",null),r.a.createElement("h3",null,"Created Rules"),r.a.createElement(Wn,{repositoryName:s}),r.a.createElement("br",null),r.a.createElement(Oa,{subject:i,entityIdentifier:c,availableIdentifier:u,repositoryName:s})))}function ka(){var e=Object(h.a)(["\n    margin: 3em;\n"]);return ka=function(){return e},e}var Na=Object(E.a)(y.Box)(ka()),Ca=function(e,t){window.open(window.API_ENDPOINT+"/repository/"+e+"/rdf/export/"+t,"_blank")};function Sa(e){var t=e.match?e.match.params.repositoryName:"mock";return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("section",{className:"section",style:{padding:"0",height:"100%"}},r.a.createElement(Na,null,r.a.createElement(wa,{repositoryName:t}),r.a.createElement("hr",null),r.a.createElement(y.Content,{style:{width:"100%"}},r.a.createElement("h3",null,"Download linked data file")),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.a.createElement(y.Button,{size:"medium",onClick:function(){Ca(t,"n3")}},"Export as N3 format"),r.a.createElement(y.Button,{size:"medium",onClick:function(){Ca(t,"turtle")}},"Export as Turtle format"),r.a.createElement(y.Button,{size:"medium",onClick:function(){Ca(t,"xml")}},"Export as RDF/XML format")))))}function Ia(){var e=Object(h.a)(["\n    margin: 3em;\n"]);return Ia=function(){return e},e}var Da=E.a.div(Ia());function Ba(e){e.match&&e.match.params.repositoryName;return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement("section",{className:"section",style:{padding:"0",height:"100%"}},r.a.createElement(Da,null,"hello")))}var Ta=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(d.a,{basename:"",history:b},r.a.createElement("div",null,r.a.createElement(p.a,{exact:!0,path:"/",component:ge}),r.a.createElement(p.a,{exact:!0,path:"/scrape/:repositoryName",component:Ae}),r.a.createElement(p.a,{exact:!0,path:"/scrape-pk/:repositoryName",component:Ke}),r.a.createElement(p.a,{exact:!0,path:"/scrape-file/:repositoryName",component:Rt}),r.a.createElement(p.a,{exact:!0,path:"/parse/:repositoryName",component:Nt}),r.a.createElement(p.a,{exact:!0,path:"/export/:repositoryName",component:xn}),r.a.createElement(p.a,{exact:!0,path:"/credit",component:an}),r.a.createElement(p.a,{exact:!0,path:"/documentation",component:rn}),r.a.createElement(p.a,{exact:!0,path:"/export/lod/:repositoryName",component:Sa}),r.a.createElement(p.a,{exact:!0,path:"/export/mongodb/:repositoryName",component:Ba}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ta,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},47:function(e,t,n){e.exports=n(104)},97:function(e,t,n){e.exports=n.p+"static/media/mock.2a1bb09f.jpg"},98:function(e,t,n){e.exports=n.p+"static/media/tonny_image.12e47c69.jpg"},99:function(e,t,n){e.exports=n.p+"static/media/under_construction.bd9eedfd.png"}},[[47,1,2]]]);
//# sourceMappingURL=main.b2f672f8.chunk.js.map